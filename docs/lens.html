<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hypno</title>
    <style >
      body {
        background-color: #000;
        color: #fff;
      }
      code {
        display: block;
        margin-top: 2rem;
        max-width: 640px;
        word-break: break-all;
      }
    </style>
  </head>

  <body>
    <canvas id="canvas" width="320" height="240"> </canvas>
    
    <script>
      a=new Image,a.onload=function(){for(t=Math,e=t.sin,n=t.cos,r=t.PI,o=requestAnimationFrame,s=Date.now,d=320,g=240,i=160,m=120,h=50,c=s(),f=document.body.children[0],f.style.width="640px",l=f.getContext("2d"),l.drawImage(a,0,0),C=l.getImageData(0,0,a.width,a.height).data,F=l.createImageData(d,g),P=F.data,j=3;j<F.data.length;j+=4)P[j]=255;k=function(){for(v=s()-c,u=1.5/(8*Math.abs(n(v/5e3+r/2))+.25),rot=v/1500,i=Math.abs(.07*v%440-220)+h,m=Math.abs(.04*v%280-140)+h,V=0,I=0;I<g;I++)for(p=(I-m)/h,lensV=2*t.asin(p)/r*h+m,w=0;w<d;w++){for((D=1-(b=(w-i)/h)*b-p*p)>0?(D=t.sqrt(D),M=2*t.atan2(b,D)/r*h+i,q=lensV,x=150*t.pow(-.5*b+-.5*p+.7071*D,4)):(M=w,q=I,x=0),a=n(rot),f=e(rot),A=(M-=160)*a-(q-=120)*f,q=q*a+M*f,(M=(160+((M=A)/u>>0))%d)<0&&(M+=d),(q=(120+(q/u>>0))%g)<0&&(q+=g),y=4*(q*d+M),A=0;A<3;A++)P[V++]=C[y++]+x;V++}l.putImageData(F,0,0),o(k)},o(k)},a.src="img/meanman.png";
    </script>
    <code>
      a=new Image,a.onload=function(){for(t=Math,e=t.sin,n=t.cos,r=t.PI,o=requestAnimationFrame,s=Date.now,d=320,g=240,i=160,m=120,h=50,c=s(),f=document.body.children[0],f.style.width="640px",l=f.getContext("2d"),l.drawImage(a,0,0),C=l.getImageData(0,0,a.width,a.height).data,F=l.createImageData(d,g),P=F.data,j=3;j<F.data.length;j+=4)P[j]=255;k=function(){for(v=s()-c,u=1.5/(8*Math.abs(n(v/5e3+r/2))+.25),rot=v/1500,i=Math.abs(.07*v%440-220)+h,m=Math.abs(.04*v%280-140)+h,V=0,I=0;I<g;I++)for(p=(I-m)/h,lensV=2*t.asin(p)/r*h+m,w=0;w<d;w++){for((D=1-(b=(w-i)/h)*b-p*p)>0?(D=t.sqrt(D),M=2*t.atan2(b,D)/r*h+i,q=lensV,x=150*t.pow(-.5*b+-.5*p+.7071*D,4)):(M=w,q=I,x=0),a=n(rot),f=e(rot),A=(M-=160)*a-(q-=120)*f,q=q*a+M*f,(M=(160+((M=A)/u>>0))%d)<0&&(M+=d),(q=(120+(q/u>>0))%g)<0&&(q+=g),y=4*(q*d+M),A=0;A<3;A++)P[V++]=C[y++]+x;V++}l.putImageData(F,0,0),o(k)},o(k)},a.src="img/meanman.png";
    </code>
    <code>
      878 bytes
    </code>
    
  </body>
</html>
