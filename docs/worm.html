<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Worm</title>
    <style >
      body {
        background-color: #000;
        color: #fff;
      }
      canvas {
        width: 960px;
        height: 540px;
      }
      code {
        display: block;
        margin-top: 2rem;
        max-width: 640px;
        word-break: break-all;
      }
    </style>
  </head>

  <body>
    <canvas id=c width=960 height=540></canvas>
    <script src="lib/dwitter.js"></script>
    
    <script>
      w=60,m=999,y=12,M=c.getContext("2d"),R=Math.sin,$=Math.cos,draw=g=>{for(c.width|=0,i=m;i--;){for(t=i/m+.02,l=R((e=t*(a=m/y/w)+g)+$(e/3))**3*280+480,r=$(e/3)**3*150+270,o=i+60*g*y,f=30/t,k=$(o)*f,S=R(o)*f,h=1e3*t+2,p=.2*$(g/.7),l=l*$(p)+h*R(p),n=R(o)*$(3*e),M.fillStyle=`hsl(${50*n},80%,${(30*n+30)*(1-t**4)}%`,s=1-R(e/2)**14+.1,d=12/t*s,M.fillRect(k+l,S+r,d,d),trackSpace=d/2/s,M.fillStyle=`hsl(9,10%,${60*(1-t)}%`,track=2;track--;)M.fillRect(l+(track?-1:1)*trackSpace,r+.6*f,.8/t,8);(80*e|0)%10==0&&(M.fillStyle="#533",M.fillRect(l-trackSpace,r+.6*f,2*trackSpace,8))}},g=0,q=0,(loop=()=>{requestAnimationFrame(loop),(v=Date.now())>=q-1.5&&((x=g/w)*w|0==g&&(x+=1e-6),draw(x),q=Math.max(q+1e3/w,v),g++)})();
    </script>
    <code>
      w=60,m=999,y=12,M=c.getContext("2d"),R=Math.sin,$=Math.cos,draw=g=>{for(c.width|=0,i=m;i--;){for(t=i/m+.02,l=R((e=t*(a=m/y/w)+g)+$(e/3))**3*280+480,r=$(e/3)**3*150+270,o=i+60*g*y,f=30/t,k=$(o)*f,S=R(o)*f,h=1e3*t+2,p=.2*$(g/.7),l=l*$(p)+h*R(p),n=R(o)*$(3*e),M.fillStyle=`hsl(${50*n},80%,${(30*n+30)*(1-t**4)}%`,s=1-R(e/2)**14+.1,d=12/t*s,M.fillRect(k+l,S+r,d,d),trackSpace=d/2/s,M.fillStyle=`hsl(9,10%,${60*(1-t)}%`,track=2;track--;)M.fillRect(l+(track?-1:1)*trackSpace,r+.6*f,.8/t,8);(80*e|0)%10==0&&(M.fillStyle="#533",M.fillRect(l-trackSpace,r+.6*f,2*trackSpace,8))}},g=0,q=0,(loop=()=>{requestAnimationFrame(loop),(v=Date.now())>=q-1.5&&((x=g/w)*w|0==g&&(x+=1e-6),draw(x),q=Math.max(q+1e3/w,v),g++)})();
    </code>
    <code>
      706 bytes
    </code>
    
  </body>
</html>
