var a=document.body.children[0];canvas.width=canvas.height=(size=80)*(scale=10);for(var c=canvas.getContext("2d"),d=Array.apply(null,new Array(size*size)).map(Number.prototype.valueOf,0),e=[],f=0;255>f;f++)100>=f?(r=Math.round(255*(f/100)),g=b=0):200>=f?(r=255,g=Math.round(255*((f-100)/100)),b=0):(r=255,g=255,b=Math.round(255*((f-200)/55))),e[f]="rgb("+r+","+g+","+b+")";setInterval(function(){for(var a,b,f=0;size-2>f;f++){a=0;for(var g=1;size-1>g;g++)b=Math.floor((d[(f+2)*size+g-1]+2*d[(f+2)*size+g]+d[(f+2)*size+g+1]+2*d[(f+1)*size+g-1]+20*d[(f+1)*size+g]+2*d[(f+1)*size+g+1]+a+2*d[f*size+g]+d[f*size+g+1])/33),a=d[f*size+g],d[f*size+g]=b,c.fillStyle=e[b],c.fillRect(g*scale,f*scale,scale,scale)}for(;size>f;f++)for(var g=1;size-1>g;g++){var b=Math.round(255*Math.random());d[f*size+g]=b}},33);